<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2019-02-17">

<title>AE 06: Classification – BIOSTAT 725 - Spring 2026</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-d5c138656980d20101dad17b9e7497c0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../site_libs/datatables-binding-0.33/datatables.js"></script>
<script src="../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">AE 06: Classification</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/logo.png" alt="" class="sidebar-logo light-content py-0 d-lg-inline d-none">
      <img src="../images/logo.png" alt="" class="sidebar-logo dark-content py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/biostat725-sp26" title="GitHub organization" class="quarto-navigation-tool px-1" aria-label="GitHub organization"><i class="bi bi-github"></i></a>
    <a href="https://cmgr.oit.duke.edu/containers" title="RStudio Containers" class="quarto-navigation-tool px-1" aria-label="RStudio Containers"><i class="bi bi-code-square"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-check-square-fill"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://canvas.duke.edu/courses/75433">
            Canvas
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.gradescope.com/courses/1174420">
            Gradescope
            </a>
          </li>
      </ul>
    </div>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../support.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Support</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../links.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Useful links</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Computing</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../computing-access.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Access</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../computing-troubleshooting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Troubleshooting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../computing-r-resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R resources</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Homework</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../hw/hw-00.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HW 00</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../hw/hw-01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HW 01</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../hw/hw-02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HW 02</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../hw/hw-03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HW 03</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../hw/hw-04-blank.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HW 04</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../hw/hw-05-blank.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HW 05</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link active" data-scroll-target="#getting-started">Getting Started</a>
  <ul class="collapse">
  <li><a href="#clone-the-repo-start-new-rstudio-project" id="toc-clone-the-repo-start-new-rstudio-project" class="nav-link" data-scroll-target="#clone-the-repo-start-new-rstudio-project">Clone the repo &amp; start new RStudio project</a></li>
  </ul></li>
  <li><a href="#r-packages" id="toc-r-packages" class="nav-link" data-scroll-target="#r-packages">R packages</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a>
  <ul class="collapse">
  <li><a href="#mimic-iv-emergency-department-ed-data" id="toc-mimic-iv-emergency-department-ed-data" class="nav-link" data-scroll-target="#mimic-iv-emergency-department-ed-data">MIMIC-IV Emergency Department (ED) Data</a>
  <ul class="collapse">
  <li><a href="#about-mimic-iv-ed" id="toc-about-mimic-iv-ed" class="nav-link" data-scroll-target="#about-mimic-iv-ed">About MIMIC-IV-ED</a></li>
  <li><a href="#dataset-access-and-ethics" id="toc-dataset-access-and-ethics" class="nav-link" data-scroll-target="#dataset-access-and-ethics">Dataset Access and Ethics</a></li>
  </ul></li>
  <li><a href="#what-is-ehr-data" id="toc-what-is-ehr-data" class="nav-link" data-scroll-target="#what-is-ehr-data">What is EHR Data?</a>
  <ul class="collapse">
  <li><a href="#electronic-health-records-ehr-overview" id="toc-electronic-health-records-ehr-overview" class="nav-link" data-scroll-target="#electronic-health-records-ehr-overview">Electronic Health Records (EHR) Overview</a></li>
  <li><a href="#ehr-data-in-the-context-of-mimic-iv-ed" id="toc-ehr-data-in-the-context-of-mimic-iv-ed" class="nav-link" data-scroll-target="#ehr-data-in-the-context-of-mimic-iv-ed">EHR Data in the Context of MIMIC-IV-ED</a></li>
  </ul></li>
  <li><a href="#challenges-of-ehr-data" id="toc-challenges-of-ehr-data" class="nav-link" data-scroll-target="#challenges-of-ehr-data">Challenges of EHR Data</a>
  <ul class="collapse">
  <li><a href="#biases-in-data-collection" id="toc-biases-in-data-collection" class="nav-link" data-scroll-target="#biases-in-data-collection">1. Biases in Data Collection</a></li>
  <li><a href="#missing-data" id="toc-missing-data" class="nav-link" data-scroll-target="#missing-data">2. <strong>Missing Data</strong></a></li>
  <li><a href="#data-quality-and-inconsistencies" id="toc-data-quality-and-inconsistencies" class="nav-link" data-scroll-target="#data-quality-and-inconsistencies">3. <strong>Data Quality and Inconsistencies</strong></a></li>
  <li><a href="#billing-related-data" id="toc-billing-related-data" class="nav-link" data-scroll-target="#billing-related-data">4. <strong>Billing-Related Data</strong></a></li>
  </ul></li>
  <li><a href="#analyzing-ehr-data" id="toc-analyzing-ehr-data" class="nav-link" data-scroll-target="#analyzing-ehr-data">Analyzing EHR Data</a></li>
  <li><a href="#structure-of-the-mimic-iv-ed-demo-dataset" id="toc-structure-of-the-mimic-iv-ed-demo-dataset" class="nav-link" data-scroll-target="#structure-of-the-mimic-iv-ed-demo-dataset">Structure of the MIMIC-IV-ED Demo Dataset</a></li>
  <li><a href="#mimic-iv-ed-demo-exploring-key-datasets" id="toc-mimic-iv-ed-demo-exploring-key-datasets" class="nav-link" data-scroll-target="#mimic-iv-ed-demo-exploring-key-datasets">MIMIC-IV-ED Demo: Exploring Key Datasets</a>
  <ul class="collapse">
  <li><a href="#data-is-messy-race" id="toc-data-is-messy-race" class="nav-link" data-scroll-target="#data-is-messy-race">Data is Messy: Race</a></li>
  </ul></li>
  <li><a href="#data-is-messy-ed-length-of-stay" id="toc-data-is-messy-ed-length-of-stay" class="nav-link" data-scroll-target="#data-is-messy-ed-length-of-stay">Data is Messy: ED Length of Stay</a></li>
  </ul></li>
  <li><a href="#ae-data" id="toc-ae-data" class="nav-link" data-scroll-target="#ae-data">AE Data</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a>
  <ul class="collapse">
  <li><a href="#exercise-1" id="toc-exercise-1" class="nav-link" data-scroll-target="#exercise-1">Exercise 1</a></li>
  <li><a href="#exercise-2" id="toc-exercise-2" class="nav-link" data-scroll-target="#exercise-2">Exercise 2</a></li>
  <li><a href="#exercise-3" id="toc-exercise-3" class="nav-link" data-scroll-target="#exercise-3">Exercise 3</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/biostat725-sp26/website/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">AE 06: Classification</h1>
<p class="subtitle lead">Exploring MIMIC-IV-ED Demo Datasets</p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 17, 2019</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Important</span>Due date
</div>
</div>
<div class="callout-body-container callout-body">
<p>Application exercises (AEs) are submitted by pushing your work to the relevant GitHub repo. AEs from Tuesday lectures should be submitted by Friday by 11:59pm ET, and AEs from Thursday lectures should be submitted by Sunday at 11:59pm ET. Because AEs are intended for in-class activities, there are no extensions given on AEs.</p>
<p><strong>This AE spans the lectures on February 17 and 19, so this is considered a Thursday AE!</strong></p>
<ul>
<li>Final <code>.qmd</code> and <code>.pdf</code> files pushed to your GitHub repo</li>
<li><strong>Note:</strong> For homeworks and exams, you will also be required to submit your final <code>.pdf</code> file submitted on Gradescope</li>
</ul>
</div>
</div>
<section id="getting-started" class="level1">
<h1>Getting Started</h1>
<section id="clone-the-repo-start-new-rstudio-project" class="level2">
<h2 class="anchored" data-anchor-id="clone-the-repo-start-new-rstudio-project">Clone the repo &amp; start new RStudio project</h2>
<ul>
<li>Go to the course organization at <a href="https://github.com/biostat725-sp26">github.com/biostat725-sp26</a> organization on GitHub.</li>
<li>Click on the repo with the prefix <strong>ae-06-</strong>. It contains the starter documents you need to complete the AE.</li>
<li>Click on the green <strong>CODE</strong> button, select <strong>Use SSH</strong> (this might already be selected by default, and if it is, you’ll see the text <strong>Clone with SSH</strong>). Click on the clipboard icon to copy the repo URL.
<ul>
<li>See the <a href="https://biostat725-sp26.netlify.app/hw/hw-00#connect-rstudio-and-github">HW 00 instructions</a> if you have not set up the SSH key or configured git.</li>
</ul></li>
<li>In RStudio, go to <em>File</em> <span class="math inline">\(\rightarrow\)</span> <em>New Project</em> <span class="math inline">\(\rightarrow\)</span> <em>Version Control</em> <span class="math inline">\(\rightarrow\)</span> <em>Git</em>.</li>
<li>Copy and paste the URL of your assignment repo into the dialog box <em>Repository URL</em>. Again, please make sure to have <em>SSH</em> highlighted under <em>Clone</em> when you copy the address.</li>
<li>Click <em>Create Project</em>, and the files from your GitHub repo will be displayed in the <em>Files</em> pane in RStudio.</li>
<li>Click <code>ae-06.qmd</code> to open the template Quarto file. This is where you will write up your code and narrative for the AE.</li>
</ul>
</section>
</section>
<section id="r-packages" class="level1">
<h1>R packages</h1>
<p>We will begin by loading R packages that we will use in this AE.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)    <span class="co"># data wrangling and visualization</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)        <span class="co"># format output</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rstan)        <span class="co"># Stan</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(bayesplot)    <span class="co"># figures for post Stan inference</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(loo)          <span class="co"># model comparison</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="data" class="level1">
<h1>Data</h1>
<section id="mimic-iv-emergency-department-ed-data" class="level2">
<h2 class="anchored" data-anchor-id="mimic-iv-emergency-department-ed-data">MIMIC-IV Emergency Department (ED) Data</h2>
<p>The MIMIC-IV-ED database, which includes over 400,000 emergency department (ED) admissions to the Beth Israel Deaconess Medical Center between 2011 and 2019. We will use the <a href="https://physionet.org/content/mimic-iv-ed-demo/2.2/">MIMIC-IV-ED demo dataset</a>, which is an educational version containing data for only 100 patients, making it a perfect tool for exploring electronic health records (EHR) and learning how to analyze real-world clinical data.</p>
<section id="about-mimic-iv-ed" class="level3">
<h3 class="anchored" data-anchor-id="about-mimic-iv-ed">About MIMIC-IV-ED</h3>
<p>The MIMIC-IV-ED dataset is a large, publicly accessible resource intended to facilitate data analysis and research in emergency care. The demo dataset maintains the same structure as the original MIMIC-IV-ED, but with the protected health information (PHI) removed to ensure deidentification and privacy.</p>
</section>
<section id="dataset-access-and-ethics" class="level3">
<h3 class="anchored" data-anchor-id="dataset-access-and-ethics">Dataset Access and Ethics</h3>
<p>Access to the full MIMIC-IV-ED dataset requires registration, identity verification, completion of human participant training, and a signed data use agreement via PhysioNet. However, this demo dataset is publicly available, so you can start exploring it right away!</p>
<p>The project has been approved by the Institutional Review Boards (IRBs) of Beth Israel Deaconess Medical Center and the Massachusetts Institute of Technology (MIT), and all patient data is deidentified in compliance with HIPAA regulations.</p>
</section>
</section>
<section id="what-is-ehr-data" class="level2">
<h2 class="anchored" data-anchor-id="what-is-ehr-data">What is EHR Data?</h2>
<section id="electronic-health-records-ehr-overview" class="level3">
<h3 class="anchored" data-anchor-id="electronic-health-records-ehr-overview">Electronic Health Records (EHR) Overview</h3>
<p>EHR data refers to digital records of a patient’s medical history, typically collected during healthcare encounters such as doctor visits, hospital stays, and emergency department admissions. This data is <strong>real-world data</strong> that is collected during routine medical care, and it is used by healthcare providers to manage patient care, track diagnoses, and prescribe treatments.</p>
<p>EHRs are made up of a variety of information, such as:</p>
<ul>
<li><p><strong>Demographics</strong>: Information about the patient, including age, gender, and race.</p></li>
<li><p><strong>Clinical Data</strong>: Diagnoses, medications, lab test results, and other medical conditions.</p></li>
<li><p><strong>Vitals</strong>: Measurements of important bodily functions, such as heart rate, blood pressure, and temperature.</p></li>
<li><p><strong>Procedures</strong>: Records of surgeries, imaging tests, and other medical interventions.</p></li>
<li><p><strong>Billing and Insurance Information</strong>: Data related to how healthcare services are paid for.</p></li>
</ul>
<p>EHR data is crucial in modern healthcare, enabling both providers and researchers to track health outcomes, improve care quality, and conduct studies on medical practices and disease progression.</p>
</section>
<section id="ehr-data-in-the-context-of-mimic-iv-ed" class="level3">
<h3 class="anchored" data-anchor-id="ehr-data-in-the-context-of-mimic-iv-ed">EHR Data in the Context of MIMIC-IV-ED</h3>
<p>The MIMIC-IV-ED dataset is an example of EHR data, specifically from emergency department (ED) visits. It contains a wide variety of patient-related information, from demographics to vital signs, to medications and diagnostic codes. By analyzing this type of data, researchers can identify patterns, predict outcomes, and improve healthcare delivery.</p>
<p>However, it’s important to understand that EHR data is far from perfect. Here are a few challenges and considerations when working with this type of data:</p>
</section>
</section>
<section id="challenges-of-ehr-data" class="level2">
<h2 class="anchored" data-anchor-id="challenges-of-ehr-data">Challenges of EHR Data</h2>
<section id="biases-in-data-collection" class="level3">
<h3 class="anchored" data-anchor-id="biases-in-data-collection">1. Biases in Data Collection</h3>
<p>EHR data reflects the way care is actually provided in the real world, meaning it can carry systematic biases. For example:</p>
<ul>
<li><p><strong>Sociodemographic Bias</strong>: Certain groups of people (e.g., those from lower socioeconomic backgrounds) may experience different levels of access to healthcare, leading to underrepresentation of these groups in the data.</p></li>
<li><p><strong>Provider Bias</strong>: Clinicians may make diagnostic or treatment decisions that are influenced by their experiences, leading to biases in how certain conditions are treated or recorded.</p></li>
<li><p><strong>Selection Bias</strong>: Only patients who visit the ED are included in the dataset. This excludes people who might have similar health conditions but do not seek emergency care.</p></li>
</ul>
</section>
<section id="missing-data" class="level3">
<h3 class="anchored" data-anchor-id="missing-data">2. <strong>Missing Data</strong></h3>
<p>Since EHR data is collected during routine medical care, it often contains <strong>missing data</strong>. Some reasons for missing data include:</p>
<ul>
<li><p><strong>Incomplete records</strong>: Not every patient will have all the data points recorded. For example, certain tests or treatments may not be administered to every patient.</p></li>
<li><p><strong>Variable documentation</strong>: Different providers may record information inconsistently or leave fields blank.</p></li>
<li><p><strong>Patient noncompliance</strong>: Some patients might not provide full information during visits, leading to gaps in the data.</p></li>
</ul>
<p>Handling missing data is a key challenge when working with EHR data, and it can impact the accuracy of any analysis performed.</p>
</section>
<section id="data-quality-and-inconsistencies" class="level3">
<h3 class="anchored" data-anchor-id="data-quality-and-inconsistencies">3. <strong>Data Quality and Inconsistencies</strong></h3>
<p>EHR data is typically entered manually by clinicians or extracted from various systems. As a result, there may be <strong>data quality issues</strong> such as:</p>
<ul>
<li><p><strong>Typos or errors in data entry</strong> (e.g., incorrect medication dosages).</p></li>
<li><p><strong>Inconsistencies across systems</strong>, especially when data is pulled from multiple healthcare organizations or devices.</p></li>
<li><p><strong>Coding errors</strong>: Diagnoses and procedures are often coded using standard systems like ICD codes, which can sometimes be misapplied.</p></li>
</ul>
</section>
<section id="billing-related-data" class="level3">
<h3 class="anchored" data-anchor-id="billing-related-data">4. <strong>Billing-Related Data</strong></h3>
<p>Some elements of EHR data are heavily influenced by <strong>billing processes</strong>. For example, certain procedures or diagnoses might be recorded in the system primarily for reimbursement purposes, rather than being a true reflection of the patient’s condition. This can introduce <strong>confounding factors</strong> in analysis, as billing codes may not always align with clinical realities.</p>
</section>
</section>
<section id="analyzing-ehr-data" class="level2">
<h2 class="anchored" data-anchor-id="analyzing-ehr-data">Analyzing EHR Data</h2>
<p>While these challenges can make EHR data more complex to work with, they also present opportunities for learning and improvement. By using appropriate methods, researchers can account for biases and missingness, and still gain valuable insights from the data.</p>
<p>In the case of the MIMIC-IV-ED dataset, these challenges are present, but the data is carefully deidentified and has been cleaned for use in research and education. It’s important to acknowledge these limitations and use statistical techniques to account for them when analyzing the data.</p>
</section>
<section id="structure-of-the-mimic-iv-ed-demo-dataset" class="level2">
<h2 class="anchored" data-anchor-id="structure-of-the-mimic-iv-ed-demo-dataset">Structure of the MIMIC-IV-ED Demo Dataset</h2>
<p>EHR data is a <strong>relational database</strong>, which means the data is organized into tables that are linked by common identifiers (in this case, <code>subject_id</code>). Here’s an overview of the key tables in the dataset:</p>
<ul>
<li><p><strong>edstays</strong>: A patient tracking table that includes the unique ID for each patient visit.</p></li>
<li><p><strong>diagnosis</strong>: Contains diagnostic codes and descriptions for each ED visit.</p></li>
<li><p><strong>medrecon</strong>: Records the medications administered during the patient’s ED visit.</p></li>
<li><p><strong>pyxis</strong>: Provides information on the medications dispensed from the hospital’s automated medication dispensing system.</p></li>
<li><p><strong>triage</strong>: Contains triage data, which includes the assessment of patients when they first arrive in the ED.</p></li>
<li><p><strong>vitalsign</strong>: Includes measurements of vital signs taken during the visit, such as heart rate, blood pressure, and temperature.</p></li>
</ul>
<p>Each table is designed to capture different aspects of the patient’s visit to the ED, giving you the ability to explore patient demographics, diagnoses, treatments, and outcomes.</p>
</section>
<section id="mimic-iv-ed-demo-exploring-key-datasets" class="level2">
<h2 class="anchored" data-anchor-id="mimic-iv-ed-demo-exploring-key-datasets">MIMIC-IV-ED Demo: Exploring Key Datasets</h2>
<p>In this course, we will work most with the <code>edstays</code> and <code>triage</code> datasets. The <code>edstays</code> dataset contains important information, including the start and end time of the ED encounter, demographics (including gender and race), the mode of arrival, and importantly the discharge disposition. Discharge disposition is a critical outcome for ED encounters that indicates how a patient left the encounter and can include, among others, going home, being admitted to the hospital.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>edstays <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"mimic_ed/edstays.csv"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-109f58ef3371e52c6484" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-109f58ef3371e52c6484">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222"],[10014729,10018328,10018328,10020640,10015272,10016810,10016810,10006580,10001725,10001217,10001217,10023239,10023239,10023239,10023239,10023239,10023239,10027602,10032725,10020187,10020187,10010471,10010471,10007928,10014078,10005909,10039708,10039708,10039708,10039708,10039708,10039708,10039708,10039708,10039708,10039708,10039708,10039708,10000032,10000032,10000032,10000032,10000032,10037928,10037928,10037928,10037928,10037928,10037928,10037928,10037928,10037928,10037928,10037928,10012853,10012853,10012853,10012853,10012853,10012853,10012853,10012853,10012853,10019003,10019003,10019003,10019003,10019003,10039997,10039997,10039997,10003400,10003400,10003400,10003400,10003400,10020306,10020306,10020306,10020306,10040025,10040025,10040025,10040025,10040025,10040025,10040025,10040025,10040025,10040025,10040025,10040025,10040025,10040025,10040025,10040025,10016742,10016742,10016742,10016742,10029291,10019568,10002930,10002930,10002930,10002930,10002930,10002930,10002930,10002930,10007795,10007795,10010867,10010867,10010867,10002428,10002428,10002428,10002428,10002428,10002428,10002428,10004235,10026255,10026255,10007058,10018845,10018081,10018081,10018081,10018081,10021666,10021938,10021938,10021938,10019385,10020944,10037861,10005866,10005866,10005866,10005866,10005866,10005866,10005866,10005866,10005866,10021487,10021487,10021487,10026354,10015860,10015860,10015860,10015860,10015860,10015860,10015860,10015860,10015860,10015860,10015860,10015860,10015860,10015860,10015860,10018423,10018423,10020740,10020740,10020740,10020740,10020740,10022281,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10014354,10022041,10026406,10026406,10026406,10029484,10035631,10035631,10035631,10015931,10015931,10019777,10018501,10023117,10023117,10023117,10023117,10023117,10017492,10038999,10038999,10009049,10004457,10004720,10004720,10025463],[23300884,26706939,null,27984218,27993466,20973395,null,null,null,24597018,null,29295881,null,28984460,null,null,21759936,28166872,20611640,24104168,null,21322534,29842315,20338077,25809882,20199380,23819016,26793610,24928679,22999601,20093566,20572787,27504040,25864431,29488258,null,null,28258130,22595853,29079034,29079034,22841357,25742920,23721604,null,null,29802992,22228639,22490490,24885579,24656677,22326517,24225421,20192635,null,27882036,22896692,null,null,22539296,26369609,null,null,27525946,29279905,26529390,26703331,21457723,21390688,22484749,null,22390287,26467376,27296885,26090619,29483621,26332470,null,23052851,null,null,null,null,25384176,21791856,null,27259207,27996267,null,22251969,25172300,null,27876215,null,27553957,null,29281842,null,28506150,27568122,22205327,28710730,28697806,25696644,20282368,25922998,28477649,25282382,23720373,20846853,20285402,22051341,22196214,22429197,22950920,28676446,28662225,23473524,null,26549334,28295257,20321825,24181354,20437651,22059910,22954658,21101111,23983182,25973915,null,21027282,22756440,null,23112364,27154822,20611796,29974575,24540843,27167814,26134779,22589518,null,21636229,null,23514107,26158160,20364112,27112038,26321862,28998349,24547356,20854119,22413744,25103777,24698912,22607171,27670224,null,null,28196804,22416954,25085565,28236161,20790339,26352758,null,null,29366372,null,null,23143086,23199774,null,29642388,26228185,null,24980601,null,23132022,null,24096336,22741225,null,29600294,27562275,20900955,22502504,26173805,22508257,29757856,24357615,29780751,26722126,27494880,null,26013492,27487226,28909879,null,25260176,25166559,20764029,21476294,29462354,29276678,24420677,28157142,27738145,28479513,null,21607814,29858644,24244087,28872262,27417763,29026789,27189241,22995465,28723315,22081550,null,24470193],[37887480,34176810,32103106,38797992,33473053,35758326,31824062,32259573,33693488,39866888,39300221,30683757,35942924,37578680,36323598,31270431,39348852,36678718,30701739,30689793,35766268,35357090,31660580,39661025,38676365,32719751,34918384,32587478,31612436,32991451,35168275,33563008,36474912,32345277,38488295,34604678,39747335,30915333,33258284,39399961,32952584,38112554,35968195,32259566,32891808,34992024,37953392,35156583,38207210,37483564,32443787,39740242,34478228,37036523,38687872,32039794,33256413,35933027,35547415,39968716,36185653,38074673,39028384,38260469,31254712,38020791,35568186,36686656,31764136,34951841,34387871,34922474,33678912,36976997,33347721,34948767,37965024,37206743,36021274,37321464,36132883,39760810,31320010,37401157,39054681,31945330,32095131,36041505,32034003,32579239,30836087,35353291,37196722,32840887,33922323,31226423,36180820,33211001,33065303,33335871,39297781,36381328,32272346,31579293,39266792,30193781,38615683,35540249,35114287,39910144,39441314,34807453,34646141,30115213,30667562,34982171,32007337,33978784,33227245,38216551,37376268,32822973,38926302,37844627,34236274,38967799,37323830,33007927,36836328,37593892,38875576,39430108,38449411,38890884,32204198,30324772,39738665,35224843,30804580,31806264,32537287,31023359,30225689,32281632,35681380,34558830,31121963,37714209,31960365,38319705,31200743,38566596,39962121,35958431,31626291,38133986,38000722,36316394,31153288,33863177,30373795,35958096,31970687,37977734,31353849,38433139,39057874,33032677,38233644,37298974,39169528,39930808,36200931,39346340,33222885,35203396,34820898,39140069,39394858,37145382,39633384,36428628,30390242,38801518,38849383,39105638,37802225,30279522,36250263,31640785,34617920,39621946,35452640,32287800,39202185,30094124,35205519,36715666,39571461,37202404,38237602,39252789,37330786,32945506,39467106,37196191,39501852,30952335,31729614,31588683,35716124,35087345,39898790,31283645,38213541,34205403,30272878,31628990,32405286,34391979,34161260,35470228],["2125-03-19T12:36:00Z","2154-02-05T17:09:00Z","2154-08-03T15:31:00Z","2153-02-12T21:59:00Z","2137-06-12T16:54:00Z","2185-06-15T23:08:00Z","2185-07-08T11:55:00Z","2137-09-29T21:06:00Z","2113-12-13T11:03:00Z","2157-11-18T17:38:00Z","2157-11-29T19:28:00Z","2137-06-19T15:05:00Z","2140-11-11T11:28:00Z","2140-10-22T18:05:00Z","2140-09-14T14:43:00Z","2140-09-17T11:35:00Z","2140-10-03T06:20:00Z","2201-10-30T10:48:00Z","2143-03-22T01:19:00Z","2169-01-14T23:26:00Z","2169-08-31T20:57:00Z","2155-05-08T13:48:00Z","2155-12-02T16:00:00Z","2129-04-05T21:18:00Z","2166-08-21T21:39:00Z","2144-10-28T18:29:00Z","2140-06-17T17:47:00Z","2140-09-24T21:17:00Z","2143-09-19T10:57:00Z","2142-05-15T10:47:00Z","2143-09-26T08:16:00Z","2138-10-30T17:27:00Z","2142-07-06T07:21:00Z","2142-03-25T22:22:00Z","2144-01-18T11:53:00Z","2142-05-16T10:26:00Z","2142-08-23T16:28:00Z","2140-01-23T12:35:00Z","2180-05-06T19:17:00Z","2180-07-23T05:54:00Z","2180-07-22T16:24:00Z","2180-06-26T15:54:00Z","2180-08-05T20:58:00Z","2179-03-27T14:15:00Z","2178-01-24T21:23:00Z","2183-11-28T17:19:00Z","2179-07-24T18:21:00Z","2183-08-03T19:27:00Z","2177-07-14T14:52:00Z","2182-04-28T17:25:00Z","2178-12-21T03:17:00Z","2177-12-21T16:49:00Z","2178-09-28T20:29:00Z","2177-09-04T06:29:00Z","2175-04-26T11:38:00Z","2176-11-25T18:34:00Z","2176-08-11T08:36:00Z","2176-10-06T00:32:00Z","2175-05-29T07:49:00Z","2176-06-06T13:33:00Z","2175-04-05T06:22:00Z","2177-07-11T00:39:00Z","2176-09-09T08:03:00Z","2153-04-12T13:03:00Z","2153-03-27T21:28:00Z","2155-05-17T21:03:00Z","2155-06-10T20:37:00Z","2155-07-10T12:46:00Z","2135-11-06T21:44:00Z","2137-03-15T15:27:00Z","2134-09-26T12:39:00Z","2137-02-07T13:06:00Z","2136-12-09T13:16:00Z","2136-12-31T13:41:00Z","2134-06-05T21:42:00Z","2136-11-04T16:08:00Z","2133-05-04T20:52:00Z","2132-07-25T11:06:00Z","2135-01-15T16:12:00Z","2134-10-26T15:12:00Z","2147-08-07T19:16:00Z","2145-02-24T12:37:00Z","2146-09-28T09:58:00Z","2145-10-19T19:23:00Z","2147-06-16T18:58:00Z","2145-08-06T11:12:00Z","2147-12-04T13:11:00Z","2148-01-22T14:47:00Z","2143-03-10T18:51:00Z","2147-08-02T18:14:00Z","2145-07-03T20:02:00Z","2147-12-01T10:15:00Z","2147-11-09T04:17:00Z","2147-08-25T14:21:00Z","2145-07-24T11:30:00Z","2147-07-02T12:47:00Z","2178-07-03T17:39:00Z","2178-07-17T16:58:00Z","2178-07-13T04:37:00Z","2178-07-22T05:41:00Z","2123-02-19T23:57:00Z","2120-01-30T19:44:00Z","2200-06-04T16:38:00Z","2196-04-14T05:55:00Z","2201-03-23T12:04:00Z","2198-04-17T11:42:00Z","2197-04-07T03:20:00Z","2197-04-16T22:57:00Z","2199-02-17T14:32:00Z","2201-02-12T15:11:00Z","2136-08-04T16:26:00Z","2136-09-22T17:07:00Z","2148-03-07T18:21:00Z","2147-12-30T06:45:00Z","2148-01-25T18:46:00Z","2157-07-16T01:50:00Z","2156-04-12T09:56:00Z","2156-05-11T11:29:00Z","2155-12-04T18:34:00Z","2160-07-15T17:34:00Z","2160-04-14T09:01:00Z","2156-04-30T18:30:00Z","2196-02-24T12:15:00Z","2200-09-17T18:38:00Z","2201-07-07T12:31:00Z","2167-11-07T17:57:00Z","2184-10-07T22:35:00Z","2134-08-17T16:24:00Z","2134-09-05T16:14:00Z","2134-10-26T14:32:00Z","2133-12-18T12:09:00Z","2172-03-12T20:52:00Z","2181-09-02T19:21:00Z","2181-10-12T20:17:00Z","2181-10-25T09:23:00Z","2180-03-03T20:26:00Z","2131-02-27T13:16:00Z","2117-03-14T15:19:00Z","2148-03-10T04:46:00Z","2149-09-12T15:31:00Z","2149-02-11T08:52:00Z","2149-09-28T01:53:00Z","2149-09-20T05:50:00Z","2148-06-13T08:36:00Z","2149-06-20T10:20:00Z","2146-06-05T22:26:00Z","2149-10-01T02:07:00Z","2117-10-25T15:49:00Z","2117-01-27T18:19:00Z","2116-12-02T22:57:00Z","2119-10-26T06:00:00Z","2188-08-05T20:36:00Z","2191-01-14T21:18:00Z","2192-07-31T11:00:00Z","2192-05-11T16:26:00Z","2190-05-14T17:11:00Z","2187-12-14T12:49:00Z","2189-09-28T14:56:00Z","2192-10-06T14:39:00Z","2193-11-23T12:38:00Z","2193-05-03T19:12:00Z","2186-09-15T12:56:00Z","2187-09-15T14:14:00Z","2189-05-22T23:18:00Z","2192-09-23T22:43:00Z","2189-06-05T13:25:00Z","2167-04-29T05:48:00Z","2167-05-03T15:18:00Z","2151-01-25T11:39:00Z","2151-01-22T18:27:00Z","2151-01-15T11:47:00Z","2150-09-15T09:31:00Z","2150-06-13T13:31:00Z","2125-06-16T20:32:00Z","2150-04-30T14:26:00Z","2147-12-19T19:24:00Z","2150-02-04T14:50:00Z","2148-12-01T23:00:00Z","2148-06-24T09:22:00Z","2149-03-13T21:20:00Z","2149-06-19T17:01:00Z","2146-10-08T21:27:00Z","2149-09-19T16:20:00Z","2148-08-14T16:32:00Z","2148-07-17T20:36:00Z","2149-03-04T20:24:00Z","2147-09-12T02:01:00Z","2149-09-17T09:08:00Z","2148-05-10T20:25:00Z","2150-04-09T19:50:00Z","2150-05-08T22:30:00Z","2147-11-25T19:39:00Z","2146-11-08T21:24:00Z","2147-06-03T22:39:00Z","2150-07-02T15:50:00Z","2147-11-14T18:22:00Z","2148-06-29T21:06:00Z","2187-05-18T14:59:00Z","2129-11-25T19:02:00Z","2129-01-02T23:41:00Z","2133-03-01T16:42:00Z","2160-11-07T19:15:00Z","2115-11-08T12:02:00Z","2112-09-17T18:46:00Z","2116-02-27T15:33:00Z","2176-12-16T18:24:00Z","2176-11-14T02:27:00Z","2187-02-10T15:11:00Z","2141-07-30T18:53:00Z","2171-10-12T11:33:00Z","2175-07-06T14:02:00Z","2173-04-16T17:00:00Z","2174-06-07T16:24:00Z","2171-11-07T17:40:00Z","2116-06-26T14:29:00Z","2132-05-17T19:56:00Z","2131-05-22T20:33:00Z","2174-05-26T04:20:00Z","2141-08-12T12:08:00Z","2186-11-12T16:09:00Z","2183-12-02T18:06:00Z","2137-10-08T18:16:00Z"],["2125-03-19T16:59:47Z","2154-02-05T22:54:00Z","2154-08-03T22:29:00Z","2153-02-13T01:38:00Z","2137-06-12T18:37:22Z","2185-06-16T02:16:00Z","2185-07-08T11:59:00Z","2137-09-29T22:54:00Z","2113-12-13T15:07:00Z","2157-11-19T01:24:00Z","2157-11-29T21:22:00Z","2137-06-19T19:09:00Z","2140-11-11T17:18:00Z","2140-10-23T17:01:00Z","2140-09-14T20:02:00Z","2140-09-17T15:00:00Z","2140-10-03T09:07:56Z","2201-10-30T12:25:00Z","2143-03-22T06:42:00Z","2169-01-15T04:56:00Z","2169-09-01T07:04:00Z","2155-05-08T18:16:00Z","2155-12-02T20:33:00Z","2129-04-06T00:25:00Z","2166-08-22T00:36:00Z","2144-10-29T00:10:00Z","2140-06-18T01:41:00Z","2140-09-25T05:57:00Z","2143-09-19T18:37:50Z","2142-05-15T18:21:00Z","2143-09-26T19:52:00Z","2138-10-31T00:19:00Z","2142-07-06T09:09:11Z","2142-03-26T08:08:00Z","2144-01-19T13:59:00Z","2142-05-16T16:19:00Z","2142-08-23T23:34:00Z","2140-01-23T18:08:00Z","2180-05-06T23:30:00Z","2180-07-23T14:00:00Z","2180-07-23T05:54:00Z","2180-06-26T21:31:00Z","2180-08-06T01:44:00Z","2179-03-27T19:48:00Z","2178-01-24T23:59:00Z","2183-11-28T23:57:00Z","2179-07-25T01:17:00Z","2183-08-04T16:07:00Z","2177-07-14T20:38:00Z","2182-04-29T07:49:00Z","2178-12-21T05:30:41Z","2177-12-21T22:26:00Z","2178-09-29T00:43:00Z","2177-09-04T12:06:40Z","2175-04-26T15:01:00Z","2176-11-25T23:51:00Z","2176-08-11T17:35:00Z","2176-10-06T06:10:00Z","2175-05-29T12:49:00Z","2176-06-06T20:18:00Z","2175-04-05T17:10:00Z","2177-07-11T10:19:00Z","2176-09-09T13:02:00Z","2153-04-12T21:40:00Z","2153-03-28T02:21:00Z","2155-05-18T00:03:15Z","2155-06-10T23:10:36Z","2155-07-10T17:48:57Z","2135-11-07T06:27:00Z","2137-03-15T22:08:46Z","2134-09-26T16:06:00Z","2137-02-07T21:44:00Z","2136-12-09T14:45:10Z","2137-01-01T00:35:00Z","2134-06-06T03:44:00Z","2136-11-04T22:12:00Z","2133-05-05T15:37:00Z","2132-07-25T18:09:00Z","2135-01-15T22:38:00Z","2134-10-26T22:13:00Z","2147-08-08T01:01:00Z","2145-02-24T14:25:00Z","2146-09-28T15:02:00Z","2145-10-20T00:54:00Z","2147-06-16T23:06:00Z","2145-08-06T17:33:00Z","2147-12-05T02:28:00Z","2148-01-23T12:18:49Z","2143-03-10T23:47:00Z","2147-08-03T03:01:07Z","2145-07-03T23:46:44Z","2147-12-01T13:23:00Z","2147-11-09T08:02:52Z","2147-08-25T18:42:00Z","2145-07-24T20:32:00Z","2147-07-02T21:40:00Z","2178-07-03T22:45:00Z","2178-07-18T02:27:00Z","2178-07-13T08:16:00Z","2178-07-22T08:19:00Z","2123-02-20T04:13:00Z","2120-01-30T22:51:00Z","2200-06-05T10:26:00Z","2196-04-14T13:40:00Z","2201-03-26T14:24:00Z","2198-04-17T21:24:00Z","2197-04-07T06:56:40Z","2197-04-17T09:48:00Z","2199-02-19T13:38:00Z","2201-02-13T11:11:00Z","2136-08-05T00:17:00Z","2136-09-22T22:30:00Z","2148-03-08T00:50:00Z","2147-12-30T09:33:00Z","2148-01-26T01:27:00Z","2157-07-16T04:11:33Z","2156-04-12T14:17:27Z","2156-05-11T14:49:34Z","2155-12-04T22:23:00Z","2160-07-16T18:49:00Z","2160-04-14T14:28:00Z","2156-04-30T21:53:00Z","2196-02-24T17:07:00Z","2200-09-18T00:57:00Z","2201-07-07T19:40:00Z","2167-11-07T20:22:00Z","2184-10-08T04:09:00Z","2134-08-18T03:15:00Z","2134-09-06T15:57:55Z","2134-10-27T01:30:00Z","2133-12-18T17:10:00Z","2172-03-13T01:46:00Z","2181-09-03T01:49:00Z","2181-10-13T02:52:00Z","2181-10-25T11:35:00Z","2180-03-04T02:24:00Z","2131-02-27T16:40:00Z","2117-03-14T16:34:58Z","2148-03-10T16:18:48Z","2149-09-13T09:02:00Z","2149-02-11T23:09:00Z","2149-09-28T16:26:00Z","2149-09-20T15:53:00Z","2148-06-13T17:30:00Z","2149-06-20T20:59:00Z","2146-06-06T01:45:00Z","2149-10-01T18:56:59Z","2117-10-25T22:53:00Z","2117-01-28T01:23:00Z","2116-12-03T01:02:00Z","2119-10-26T07:12:05Z","2188-08-06T03:24:00Z","2191-01-15T03:20:00Z","2192-07-31T17:10:00Z","2192-05-12T09:31:00Z","2190-05-15T10:00:00Z","2187-12-14T17:48:00Z","2189-09-28T17:49:00Z","2192-10-06T21:15:00Z","2193-11-23T19:16:36Z","2193-05-05T02:13:00Z","2186-09-15T17:15:00Z","2187-09-15T20:49:00Z","2189-05-23T03:38:00Z","2192-09-24T09:38:00Z","2189-06-05T18:06:00Z","2167-04-29T16:53:00Z","2167-05-03T22:50:00Z","2151-01-26T01:07:00Z","2151-01-23T03:33:00Z","2151-01-16T02:38:00Z","2150-09-15T17:09:00Z","2150-06-13T22:19:00Z","2125-06-17T04:12:54Z","2150-04-30T21:54:00Z","2147-12-20T01:03:00Z","2150-02-04T20:13:49Z","2148-12-02T09:29:00Z","2148-06-24T16:12:00Z","2149-03-14T02:23:00Z","2149-06-20T13:48:00Z","2146-10-09T01:08:00Z","2149-09-19T18:34:00Z","2148-08-15T00:27:00Z","2148-07-18T04:46:00Z","2149-03-05T14:59:00Z","2147-09-12T06:37:00Z","2149-09-17T23:55:00Z","2148-05-11T01:22:00Z","2150-04-10T03:46:00Z","2150-05-09T19:09:00Z","2147-11-26T01:30:00Z","2146-11-09T13:13:00Z","2147-06-04T00:45:19Z","2150-07-02T23:19:00Z","2147-11-14T23:09:00Z","2148-06-30T02:27:00Z","2187-05-18T18:39:00Z","2129-11-26T00:46:00Z","2129-01-03T18:33:00Z","2133-03-04T17:05:00Z","2160-11-08T05:23:00Z","2115-11-08T15:43:00Z","2112-09-17T19:50:00Z","2116-02-27T22:03:00Z","2176-12-17T01:07:00Z","2176-11-14T19:51:00Z","2187-02-10T20:34:00Z","2141-07-31T00:01:00Z","2171-10-12T14:33:00Z","2175-07-06T17:41:00Z","2173-04-16T23:18:00Z","2174-06-08T01:02:00Z","2171-11-07T22:50:00Z","2116-06-26T18:26:30Z","2132-05-18T01:36:00Z","2131-05-22T21:50:33Z","2174-05-26T09:18:00Z","2141-08-12T17:20:00Z","2186-11-12T19:55:00Z","2183-12-03T00:30:00Z","2137-10-08T21:20:50Z"],["F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M","M"],["WHITE - OTHER EUROPEAN","WHITE","WHITE","WHITE","WHITE","UNKNOWN","UNKNOWN","HISPANIC/LATINO - SALVADORAN","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","BLACK/AFRICAN AMERICAN","HISPANIC/LATINO - SALVADORAN","HISPANIC/LATINO - SALVADORAN","WHITE","WHITE","WHITE","UNABLE TO OBTAIN","WHITE","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","WHITE","WHITE","WHITE","WHITE","WHITE","HISPANIC/LATINO - CUBAN","HISPANIC/LATINO - CUBAN","HISPANIC/LATINO - CUBAN","HISPANIC/LATINO - CUBAN","HISPANIC/LATINO - CUBAN","HISPANIC/LATINO - CUBAN","HISPANIC/LATINO - CUBAN","HISPANIC/LATINO - CUBAN","HISPANIC/LATINO - CUBAN","HISPANIC/LATINO - CUBAN","HISPANIC/LATINO - CUBAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","WHITE","WHITE","WHITE","WHITE","WHITE","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","UNKNOWN","WHITE","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","BLACK/AFRICAN AMERICAN","WHITE","WHITE","WHITE - BRAZILIAN","WHITE - BRAZILIAN","WHITE - BRAZILIAN","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","MULTIPLE RACE/ETHNICITY","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","UNKNOWN","UNKNOWN","PORTUGUESE","PORTUGUESE","PORTUGUESE","PORTUGUESE","PORTUGUESE","PORTUGUESE","PORTUGUESE","PORTUGUESE","PORTUGUESE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","OTHER","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","OTHER","WHITE","WHITE","WHITE","WHITE","WHITE","UNKNOWN","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","PATIENT DECLINED TO ANSWER","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE","WHITE"],["WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","UNKNOWN","UNKNOWN","WALK IN","WALK IN","WALK IN","WALK IN","WALK IN","AMBULANCE","WALK IN","WALK IN","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","WALK IN","AMBULANCE","UNKNOWN","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","WALK IN","WALK IN","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","WALK IN","AMBULANCE","WALK IN","WALK IN","AMBULANCE","AMBULANCE","WALK IN","WALK IN","WALK IN","WALK IN","WALK IN","AMBULANCE","WALK IN","WALK IN","WALK IN","AMBULANCE","WALK IN","AMBULANCE","AMBULANCE","WALK IN","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","OTHER","WALK IN","WALK IN","WALK IN","WALK IN","WALK IN","WALK IN","WALK IN","AMBULANCE","AMBULANCE","WALK IN","WALK IN","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","WALK IN","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","UNKNOWN","UNKNOWN","AMBULANCE","AMBULANCE","UNKNOWN","AMBULANCE","WALK IN","AMBULANCE","WALK IN","AMBULANCE","AMBULANCE","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","WALK IN","AMBULANCE","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","WALK IN","AMBULANCE","UNKNOWN","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","WALK IN","UNKNOWN","UNKNOWN","AMBULANCE","WALK IN","WALK IN","WALK IN","WALK IN","AMBULANCE","WALK IN","AMBULANCE","AMBULANCE","WALK IN","WALK IN","AMBULANCE","AMBULANCE","WALK IN","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","WALK IN","AMBULANCE","WALK IN","AMBULANCE","AMBULANCE","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","WALK IN","WALK IN","AMBULANCE","AMBULANCE","WALK IN","WALK IN","AMBULANCE","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","UNKNOWN","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","WALK IN","AMBULANCE","WALK IN","AMBULANCE","WALK IN","UNKNOWN","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","WALK IN","AMBULANCE","WALK IN","AMBULANCE","AMBULANCE","AMBULANCE","AMBULANCE","UNKNOWN","AMBULANCE","WALK IN","UNKNOWN","WALK IN","AMBULANCE"],["ADMITTED","ADMITTED","HOME","ADMITTED","ADMITTED","ADMITTED","OTHER","HOME","HOME","ADMITTED","HOME","ADMITTED","HOME","HOME","HOME","HOME","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","LEFT AGAINST MEDICAL ADVICE","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","HOME","ADMITTED","ADMITTED","ADMITTED","HOME","ADMITTED","ADMITTED","ADMITTED","HOME","HOME","ADMITTED","HOME","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","ADMITTED","HOME","HOME","HOME","ADMITTED","ADMITTED","HOME","HOME","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","ADMITTED","HOME","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","LEFT AGAINST MEDICAL ADVICE","ADMITTED","HOME","ELOPED","HOME","HOME","ADMITTED","ADMITTED","HOME","ADMITTED","ADMITTED","HOME","ADMITTED","ADMITTED","HOME","ADMITTED","HOME","ADMITTED","HOME","ADMITTED","HOME","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","ADMITTED","TRANSFER","ADMITTED","ADMITTED","HOME","TRANSFER","HOME","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","HOME","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","ADMITTED","ADMITTED","HOME","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","ADMITTED","TRANSFER","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","HOME","ADMITTED","HOME","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","HOME","ADMITTED","HOME","TRANSFER","TRANSFER","HOME","HOME","ADMITTED","ADMITTED","HOME","ADMITTED","HOME","ADMITTED","LEFT WITHOUT BEING SEEN","HOME","ADMITTED","LEFT WITHOUT BEING SEEN","ADMITTED","ADMITTED","HOME","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","ADMITTED","HOME","ADMITTED","ADMITTED","ADMITTED","HOME","ADMITTED","HOME","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","ADMITTED","HOME","OTHER"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>subject_id<\/th>\n      <th>hadm_id<\/th>\n      <th>stay_id<\/th>\n      <th>intime<\/th>\n      <th>outtime<\/th>\n      <th>gender<\/th>\n      <th>race<\/th>\n      <th>arrival_transport<\/th>\n      <th>disposition<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"subject_id","targets":1},{"name":"hadm_id","targets":2},{"name":"stay_id","targets":3},{"name":"intime","targets":4},{"name":"outtime","targets":5},{"name":"gender","targets":6},{"name":"race","targets":7},{"name":"arrival_transport","targets":8},{"name":"disposition","targets":9}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>When a patient enters the ED, they are triaged, meaning a medical professional will quickly assess their condition to determine the severity of their illness or injury and prioritize them in line for treatment based on how urgently they need care, essentially sorting patients based on their need for immediate attention; the most critical cases will be seen first. The data in the <code>triage</code> dataset comes from this process and includes vital measurements, including, among others, temperature, oxygen saturation, and pain; an assessment of acuity, and also a chief complaint variable. Vitals in the <code>triage</code> dataset are different from those in the <code>vitals</code> dataset, which are collected during the ED stay and are time stamped.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>triage <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"mimic_ed/triage.csv"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-3834351f12a6c3f6aeac" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3834351f12a6c3f6aeac">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222"],[10016742,10032725,10010867,10004235,10027602,10012853,10016810,10025463,10017492,10022041,10002428,10026354,10021487,10021938,10014078,10005866,10014354,10016810,10023239,10020740,10014354,10037928,10014354,10039708,10015860,10003400,10005866,10018845,10026406,10007928,10014354,10023117,10010471,10039997,10037928,10018081,10014354,10014354,10015931,10040025,10019777,10016742,10005909,10004457,10018081,10018423,10014354,10040025,10014354,10012853,10000032,10020740,10002428,10014354,10007058,10019003,10021938,10040025,10037928,10010867,10015860,10021938,10020187,10014354,10000032,10020306,10002930,10019385,10012853,10019003,10019003,10014354,10018423,10015860,10023117,10018328,10019003,10040025,10014354,10015272,10037928,10015860,10018501,10014354,10035631,10026255,10018328,10040025,10002930,10029484,10039708,10016742,10015931,10002428,10020740,10023117,10020306,10002930,10003400,10005866,10015860,10002930,10002930,10005866,10010867,10002428,10037928,10018081,10014354,10020187,10019568,10019003,10014729,10021666,10038999,10004720,10037861,10037928,10010471,10015860,10029291,10020640,10035631,10020944,10039708,10003400,10039708,10015860,10016742,10023239,10012853,10020306,10023239,10038999,10014354,10023239,10015860,10004720,10022281,10015860,10005866,10026406,10005866,10020740,10015860,10040025,10040025,10003400,10014354,10026406,10001217,10037928,10037928,10040025,10014354,10014354,10040025,10039708,10026255,10037928,10012853,10021487,10040025,10014354,10012853,10000032,10002428,10000032,10015860,10001217,10040025,10002428,10018081,10037928,10000032,10015860,10014354,10021487,10006580,10009049,10040025,10015860,10012853,10040025,10002930,10020306,10040025,10015860,10001725,10014354,10014354,10002930,10039708,10015860,10005866,10020740,10039708,10003400,10023239,10040025,10005866,10039708,10035631,10002428,10005866,10039708,10039708,10012853,10007795,10039997,10002930,10023117,10039997,10014354,10039708,10040025,10023117,10023239,10039708,10012853,10007795,10037928],[33211001,30701739,30115213,38926302,36678718,36185653,31824062,35470228,38213541,36715666,33978784,31200743,38319705,38449411,38676365,34558830,34820898,35758326,39348852,39169528,39621946,32891808,30094124,38488295,31626291,33347721,30804580,37323830,39571461,39661025,38801518,39898790,35357090,34387871,34478228,36836328,39140069,36250263,39501852,33922323,30952335,33335871,32719751,32405286,33007927,39057874,39633384,39760810,39394858,39968716,39399961,38233644,37376268,39105638,38967799,38020791,38890884,39054681,32259566,34646141,35958431,32204198,35766268,37802225,32952584,37965024,39910144,30324772,32039794,36686656,31254712,36428628,33032677,38133986,35716124,34176810,38260469,31945330,35205519,33473053,38207210,31353849,31729614,38849383,37330786,37844627,32103106,36041505,38615683,39252789,35168275,33065303,37196191,32007337,37298974,31588683,36021274,35114287,36976997,32537287,30373795,35540249,32272346,31121963,30667562,32822973,32443787,38875576,32287800,30689793,36381328,35568186,37887480,39430108,30272878,34391979,35224843,37036523,31660580,38433139,39297781,38797992,39467106,39738665,30915333,33678912,32587478,37977734,36180820,30683757,38074673,37321464,31270431,34205403,30279522,35942924,38566596,34161260,39346340,33863177,35681380,38237602,32281632,39930808,38000722,36132883,32840887,34922474,34617920,37202404,39300221,34992024,39740242,31226423,31640785,39202185,32095131,34918384,34236274,37953392,35547415,31960365,30836087,37145382,33256413,33258284,38216551,38112554,31153288,39866888,37401157,34982171,37593892,37483564,35968195,35958096,35452640,37714209,32259573,31628990,32579239,31970687,38687872,32034003,31579293,37206743,35353291,39962121,33693488,35203396,30390242,30193781,39747335,36316394,31806264,36200931,31612436,34948767,37578680,31320010,30225689,36474912,32945506,33227245,31023359,34604678,32991451,39028384,39441314,34951841,39266792,35087345,31764136,33222885,33563008,37196722,31283645,36323598,32345277,35933027,34807453,35156583],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,98.8,97.8,98.09999999999999,98.3,97,97.3,96.59999999999999,100.1,97.3,97.40000000000001,98,98.7,97.09999999999999,100.2,97.7,97,97.8,97.59999999999999,99.09999999999999,99.40000000000001,97.40000000000001,97.8,98.5,98.09999999999999,96,98.2,97.59999999999999,99.09999999999999,98.2,98.2,97,98.3,98.09999999999999,98.7,98.09999999999999,97.2,98.2,98.59999999999999,98.09999999999999,99.8,98.09999999999999,99.8,99.3,100,98.40000000000001,98.40000000000001,98.40000000000001,97.8,98.90000000000001,97.7,97.90000000000001,97.59999999999999,98.59999999999999,98.40000000000001,98.2,97.90000000000001,98,96.8,97.7,99.09999999999999,99.40000000000001,98.90000000000001,97.5,98.2,98.2,98.3,97.7,98.7,99.40000000000001,96.2,97.7,97.5,98.2,97.3,96.8,97.5,98.5,98.40000000000001,97.7,96.8,98.90000000000001,97.7,98,98.09999999999999,98.5,97.3,98.8,99.5,100.2,98.09999999999999,96.2,97.90000000000001,98.3,null,97.8,99.09999999999999,null,null,null,null,null,null,97.2,null,99.2,98.2,98,97.8,98.3,98.2,100.3,null,97.90000000000001,97.8,96.90000000000001,96.2,97.59999999999999,98.2,97.8,100,97,97.8,97.09999999999999,98,97,97.90000000000001,98.40000000000001,98.2,97.09999999999999,98,98.8,100.2,98,98,36.5,98.7,97.59999999999999,99.5,97.7,96.59999999999999,98.09999999999999,99.90000000000001,98.3,98.2,99.8,98.3,98.2,97.40000000000001,98.40000000000001,98,98.90000000000001,99.8,99,98.09999999999999,98.40000000000001,97.40000000000001,98.2,99.40000000000001,99.59999999999999,97.2,96.7,98.09999999999999,99,97.09999999999999,98.3,97.5,98,95.59999999999999,98.09999999999999,97,98.2,97.5,98.5,98.8,98.2,98.5,98,98.2,97.90000000000001,98,99.90000000000001,97.90000000000001,98.3,97.59999999999999,97.90000000000001,97.8,99.40000000000001,97.2,98,98.2,97.5,97.59999999999999,97.2,98.09999999999999,97.40000000000001,96.5,98.59999999999999,98,97.3,98,97.7,98.40000000000001,96.8,98.59999999999999,97.8],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,72,115,95,57,81,80,55,128,43,66,70,118,98,106,79,126,52,96,84,80,100,82,122,90,84,106,103,100,84,72,80,83,77,77,86,98,104,62,97,110,71,97,84,103,89,95,85,87,95,103,55,72,98,96,63,84,110,115,74,96,78,120,118,72,98,72,98,100,90,74,100,108,105,69,98,125,125,99,126,83,102,91,82,100,110,89,106,104,95,130,98,62,84,98,92,90,null,null,null,null,null,null,101,124,130,99,75,90,157,76,140,100,130,66,102,123,116,73,75,119,106,64,77,76,98,63,82,97,83,105,124,73,105,75,95,108,93,75,78,78,89,95,76,96,106,77,76,77,70,100,88,96,81,87,100,67,105,105,120,64,114,89,87,77,115,65,66,89,85,null,117,73,95,78,88,84,105,84,95,86,86,81,80,72,76,59,109,88,60,64,77,118,71,76,106,112,72,71,88,109,111,106,78,108,75],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,18,20,18,18,18,18,16,20,16,18,16,22,15,20,20,22,17,16,18,18,22,28,18,18,20,18,16,16,16,16,19,20,18,16,17,14,16,18,16,18,16,32,18,18,18,18,18,14,18,18,14,16,16,15,16,16,18,18,20,17,18,16,18,16,18,20,16,18,20,18,17,16,18,18,16,22,22,16,20,18,20,16,22,16,18,16,20,16,28,15,22,16,18,22,26,26,null,null,null,null,null,null,18,32,32,23,24,18,18,16,20,20,16,14,18,18,14,20,16,16,18,16,18,18,20,18,18,16,18,18,16,15,20,20,18,22,18,18,19,16,16,28,16,16,16,16,16,16,16,16,18,18,16,15,16,16,24,18,18,16,14,18,18,18,18,18,16,16,18,20,20,18,16,19,16,17,16,18,20,16,18,16,20,16,20,16,16,18,16,18,22,18,18,18,18,20,18,16,16,22,15,18,16,18,16],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,90,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,94,94,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,93,93,93,88,97,97,97,97,97,97,97,97,97,97,97,97,97,97,97,97,96,96,96,96,96,96,96,96,96,91,86,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,95,95,95,95,95,95,null,null,null,null,null,null,null,99,99,94,78,91,100,100,100,95,95,95,99,98,99,99,99,99,99,99,99,99,99,99,99,99,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,97,97,97,97,97,97,97,97,97,97,92,96,96,96,96,96,96,96,96,96,96,96,96,96,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,95,95,95,95],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,98,92,149,161,161,138,159,151,140,111,155,131,102,142,100,136,134,121,139,158,122,124,182,110,124,121,138,131,142,140,182,159,100,96,124,158,160,121,117,178,168,176,128,138,217,190,137,71,138,137,120,173,105,98,118,135,179,95,133,114,208,120,100,126,106,160,105,109,153,142,127,154,138,109,147,122,111,111,129,121,180,111,157,119,123,106,163,146,99,179,111,145,168,148,116,86,null,null,null,null,null,null,94,105,106,98,154,70,115,86,139,190,118,165,121,123,140,122,112,107,133,177,154,147,133,149,125,180,137,168,136,149,153,132,150,151,135,180,158,126,98,150,144,189,110,197,136,137,106,172,116,134,160,160,126,126,177,106,158,123,119,131,126,107,178,218,154,106,133,147,107,137,158,151,150,116,136,175,117,133,142,132,198,163,112,145,138,163,104,94,194,151,165,181,109,124,125,105,114,148,133,131,186,143,159],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,48,42,74,68,55,78,80,73,100,68,86,89,59,73,58,68,57,65,65,72,80,83,78,68,80,81,72,55,97,71,74,105,43,50,74,89,80,78,60,85,60,86,68,84,116,117,86,43,70,87,59,60,43,56,49,84,108,65,65,66,86,71,56,43,64,67,70,65,73,75,49,92,63,56,89,79,63,879,95,68,85,68,82,64,67,61,103,94,47,69,49,63,82,90,57,61,null,null,null,null,null,null,62,76,74,60,67,42,81,51,70,100,70,51,79,69,78,60,61,73,87,76,76,92,110,72,75,96,84,99,82,53,77,95,56,55,72,74,44,87,68,101,56,78,69,59,65,48,63,100,88,70,102,62,74,72,69,57,83,63,93,90,68,58,105,72,47,65,77,55,64,91,71,75,98,83,81,80,73,82,92,71,74,81,74,69,118,89,61,56,81,92,79,94,79,50,62,76,55,77,79,76,66,61,60],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"UA","13","0","0","0","0","4","0","0","0","8","0","10","3","5","0","0","0","7","0","10","0","0","2","0","UA","5","0","0","6","0","1","9","8","13","13","0","5","2","5","13","0","o","7","0","5","0","7","7","0","0","0","0","0","0","7","3","0","0","3","0",null,"8","0","0","7","0","10","7","8","0","10","9","2","5","unable","0","4","0","0","0","5","13","10","0","0","uta","8","0","unable",null,"5","9","7","8","0","10",null,"Critical","ett","0","13","Critical","0","UA",null,"0","unable","5",null,"0","0","0","0","8","8","5","unable","0","7","7","7","8","5","10","8","10","0","9","5","0","8","10","10","0","8","0","0","9","5","8","0","8","0","0","8","0","8","8","0","4","10","7","0","0","5","0","10","10","8","9","5","10","0","0","5","0","5","13","7","10","9","0","8","9","6","10","0","10","8","10","5","0","0","10","0","4","0","7","0","0","8","4","0","10","0","0","0","0","0","0","3","5","8","7","6"],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],["PICC EVAL","FACIAL DROOP","MVC/INTUBATED TRAUMA","S/P ARREST","HEAD BLEED","SOB","UNKNOWN-CC","HEAD BLEED","HEAD BLEED","SEIZURE","RESP ARREST","SW","CAR VS POLE","Confusion","SEIZURE","Abd pain, LEAKING ASCITES","Dizziness, Diplopia","Abd pain","DKA, Transfer","Psych eval","Fever, Neutropenia","S/P FALL","Fatigue, s/p Fall","Altered mental status","Coffee ground emesis","ELEVATED INR","Abd pain, N/V","s/p Fall, SDH","Lower back pain","VOMITING BLOOD","Cough, Dyspnea","Weakness, Abnormal labs","Weakness, Atrial fibrillation, Transfer","Leg weakness, Abnormal CT","RIGHT EAR PAIN/DRAINAGE","Dyspnea","Epigastric pain","BRBPR","Dyspnea","Palpitations","Hematemesis","Dyspnea, Transfer","L Leg DVT","? AORTIC DISECTION","Wound eval, Transfer","Chest pain","Hyperglycemia, Overdose","EYE EVAL","Chest pain","Dizziness, Weakness","Abdominal distention, Abd pain, LETHAGIC","Psychiatric hold, Altered mental status","BRBPR","Confusion, s/p Fall","Chest pain, Transfer","Abnormal CT, LUQ abd pain","Tachycardia","Dyspnea, Productive cough","ILI","Dyspnea, Transfer","Abnormal labs","Abd pain","Facial numbness","Chest pain, NSTEMI, Transfer","Hypotension","Cough, Dyspnea","SI","Chest pain, Jaw pain, L Arm pain","DVT, Transfer","Anemia, Neutropenia, Transfer","Weakness, Hypotension","Transfer, CVA","Chest pain, Dizziness","Abnormal labs, Hyperglycemia","Chest pain","Syncope, Transfer","Weakness, GI bleed","Allergic reaction","Chest pain, Transfer","PE","HYPERGLYCEMIA","L Leg pain, s/p Fall","Transfer, MVC","Chest pain, Nausea","Abnormal labs, Weakness","R RIB PAIN","N/V, Tinnitus","Leg pain, Wound eval","Psychiatric hold","Syncope","Lethargy","Transfer, Abnormal EKG","Dyspnea, Transfer","DIARRHEA,FEVER","Psychiatric hold","SHORTNESS OF BREATH","Dehydration, Fatigue","SI","Altered mental status","Abd pain, Diarrhea, Vomiting","L Arm numbness, L Arm swelling","SI","Hypoglycemia","Chest pain, N/V","T-SPINE FX DISPLACEMENT","LETHARGY/SOB","UNKNOWN-CC","Abd pain, n/v/d","Chest pain","Headache, SAH, Transfer","Transfer, s/p Fall","Anemia","FEVER","SDH/SAH","Transfer","Cardiac arrest, Transfer","ICH","HYPOTHERMIA","s/p cardiac arrest","Dizziness","Transfer, PE","SOB/ABNL LABS","Dyspnea, Hypoxia","Altered mental status","Hypotension","Tachycardia, Hypoxia","Abnormal labs, ETOH, Hypotension","N/V, Tachycardia","Transfer, Dyspnea","N/V, Hyperglycemia","Clogged foley","Lower back pain, s/p Fall","Back pain, Decreased PO intake, R Ear pain","s/p Fall, Transfer","Weakness","Presyncope, Weakness","RIGHT FOOT INFECTION","s/p Fall, R Wrist pain, R Wrist injury","LOWER EXTREMITY PAIN","L Arm pain, L Arm swelling","RLQ abdominal pain","ETOH, SI","Abd pain","Insomnia","R LEG CELLULITIS","L Foot swelling, L Foot pain","B Leg swelling","Rectal pain","Abd pain, Dysuria","Assault","PICC LINE INFECTION","Head injury, s/p Fall","Cough, Dyspnea","N/V","Epigastric pain","R Leg pain, R Leg swelling","L Foot pain","Hypotension","R Leg pain, Weakness","Altered mental status","Urinary retention, Lower abdominal pain","ABD PAIN","LEFT EYE SWELLING, REDNESS","R Leg pain, R Leg swelling","Hematuria","Abd pain, Abdominal distention","s/p Fall, L Shoulder pain","Abdominal distention","Diarrhea, Hypotension","LEFT HAND PAINS","Dyspnea, Foot swelling","LEFT HIP FX","DISLODGED ABD TUBE","Abd pain, n/v/d","n/v/d, Abd pain","R FOOT ULCER/CELLULITIS","Chest pain, Transfer","ABDOMINAL MASS, FEVER","Neck pain, Med refill","Chest pain","Urinary retention","R FOOT PAIN","Hypertension","HYPERTENSION","ETOH, Hypoglycemia","L Eye pain","L Foot pain, Wound eval","R Foot pain","Eye pain","Toe pain","Abd pain, Back pain","ETOH, Hallucinations","L Knee pain","Foot laceration","Abd pain, Right sided abdominal pain","Abd pain","Dyspnea","Hematuria, Dysuria","Abnormal labs","Dyspnea","Right sided abdominal pain","Wound eval","Dyspnea, ABNORMAL LAB VALUES","LARYNGITIS/SOB WITH TALKING","Abd pain, N/V","Wound eval","Hemodialysis","Suprapubic pain","?INFECTION","L Weakness, Unable to ambulate","Head injury, Neck pain, s/p Fall","Dyspnea on exertion","Depression, Anxiety","L Leg pain, Weakness","Dizziness","BRBPR","SHORTNESS OF BREATH","Dehydration, Nausea, Rash","Abd pain, Transfer","Abd pain","Abd pain, Back pain","Back pain"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>subject_id<\/th>\n      <th>stay_id<\/th>\n      <th>temperature<\/th>\n      <th>heartrate<\/th>\n      <th>resprate<\/th>\n      <th>o2sat<\/th>\n      <th>sbp<\/th>\n      <th>dbp<\/th>\n      <th>pain<\/th>\n      <th>acuity<\/th>\n      <th>chiefcomplaint<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,10]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"subject_id","targets":1},{"name":"stay_id","targets":2},{"name":"temperature","targets":3},{"name":"heartrate","targets":4},{"name":"resprate","targets":5},{"name":"o2sat","targets":6},{"name":"sbp","targets":7},{"name":"dbp","targets":8},{"name":"pain","targets":9},{"name":"acuity","targets":10},{"name":"chiefcomplaint","targets":11}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="data-is-messy-race" class="level3">
<h3 class="anchored" data-anchor-id="data-is-messy-race">Data is Messy: Race</h3>
<p>Working with any real-world data is messy and requires substantial data processing. To illustrate this, let’s consider the variable <code>race</code> from the <code>edstays</code> dataset.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Category</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">WHITE</td>
<td style="text-align: right;">138</td>
</tr>
<tr class="even">
<td style="text-align: left;">BLACK/AFRICAN AMERICAN</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HISPANIC/LATINO - CUBAN</td>
<td style="text-align: right;">11</td>
</tr>
<tr class="even">
<td style="text-align: left;">PORTUGUESE</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">UNKNOWN</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">WHITE - BRAZILIAN</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HISPANIC/LATINO - SALVADORAN</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: left;">OTHER</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">WHITE - OTHER EUROPEAN</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">UNABLE TO OBTAIN</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PATIENT DECLINED TO ANSWER</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">MULTIPLE RACE/ETHNICITY</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>There are 12 categories of race in only 100 patients. Imagine what this would look like in 400,000 patients and with racial categories changing over time! When working with EHR data, variables should be processed into forms that are appropriate for the research question. Typically this means grouping categorical variables like race into meaningful categories. The following is an example.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>edstays <span class="ot">&lt;-</span> edstays <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race2 =</span> <span class="fu">case_when</span>(</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    race <span class="sc">==</span> <span class="st">"BLACK/AFRICAN AMERICAN"</span> <span class="sc">~</span> <span class="st">"black"</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    race <span class="sc">==</span> <span class="st">"WHITE - BRAZILIAN"</span> <span class="sc">~</span> <span class="st">"white"</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    race <span class="sc">==</span> <span class="st">"WHITE - OTHER EUROPEAN"</span> <span class="sc">~</span> <span class="st">"white"</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    race <span class="sc">==</span> <span class="st">"WHITE"</span> <span class="sc">~</span> <span class="st">"white"</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    race <span class="sc">==</span> <span class="st">"UNKNOWN"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    race <span class="sc">==</span> <span class="st">"UNABLE TO OBTAIN"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    race <span class="sc">==</span> <span class="st">"PATIENT DECLINED TO ANSWER"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    race <span class="sc">==</span> <span class="st">"OTHER"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    race <span class="sc">==</span> <span class="st">"PORTUGUESE"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    race <span class="sc">==</span> <span class="st">"MULTIPLE RACE/ETHNICITY"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    race <span class="sc">==</span> <span class="st">"HISPANIC/LATINO - SALVADORAN"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    race <span class="sc">==</span> <span class="st">"HISPANIC/LATINO - CUBAN"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span>  <span class="co"># handles any other cases that don't match</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race2 =</span> <span class="fu">relevel</span>(<span class="fu">factor</span>(race2), <span class="at">ref =</span> <span class="st">"white"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>This yields the following categories.</p>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Category</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">white</td>
<td style="text-align: right;">142</td>
</tr>
<tr class="even">
<td style="text-align: left;">black</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="odd">
<td style="text-align: left;">other</td>
<td style="text-align: right;">34</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
<section id="data-is-messy-ed-length-of-stay" class="level2">
<h2 class="anchored" data-anchor-id="data-is-messy-ed-length-of-stay">Data is Messy: ED Length of Stay</h2>
<p>Another example of data processing in EHR data is computing ED length of stay. Length of stay is a critical outcome in healthcare applications and can be computed as the time of admission to discharge. In real-world datasets this is not pre-computed, but must be derived from date-time variables. We first check to see if the admission and discharge times are date-time data objects.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(edstays<span class="sc">$</span>outtime)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "POSIXct" "POSIXt" </code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(edstays<span class="sc">$</span>intime)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "POSIXct" "POSIXt" </code></pre>
</div>
</div>
<p>If they are not, they can be converted.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>edstays<span class="sc">$</span>outtime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(edstays<span class="sc">$</span>outtime)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>edstays<span class="sc">$</span>intime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(edstays<span class="sc">$</span>intime)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We can then compute the length of stay by computing the time differences. It is important to specify the units of time for consistency. We then convert to a numeric and visualize.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>edstays<span class="sc">$</span>los <span class="ot">&lt;-</span> <span class="fu">difftime</span>(<span class="fu">as.POSIXct</span>(edstays<span class="sc">$</span>outtime), <span class="fu">as.POSIXct</span>(edstays<span class="sc">$</span>intime), <span class="at">units =</span> <span class="st">"hours"</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>edstays<span class="sc">$</span>los <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(edstays<span class="sc">$</span>los)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(edstays, <span class="fu">aes</span>(<span class="at">x =</span> los)) <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"ED Length of Stay (hours)"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ae-06-classification_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="ae-data" class="level1">
<h1>AE Data</h1>
<p>Today, we will focus on the following variables which we derived above.</p>
<ul>
<li><p><code>los</code>: ED length of stay in hours.</p></li>
<li><p><code>race2</code>: categorical race variable with three groups <code>white</code>, <code>black</code>, <code>other</code>.</p></li>
</ul>
<p>We will demonstrate classification by creating three outcome variables. For logistic regression we will define a binary outcome, where a success is defined as a length of stay greater than 6 hours.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>edstays <span class="ot">&lt;-</span> edstays <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">binary =</span> <span class="dv">1</span> <span class="sc">*</span> (los <span class="sc">&gt;</span> <span class="dv">6</span>))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(edstays<span class="sc">$</span>binary)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  0   1 
114 108 </code></pre>
</div>
</div>
<p>For multinomial regression, we define a categorical representation of length of stay based on the following three categories.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>edstays <span class="ot">&lt;-</span> edstays <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nominal =</span> <span class="fu">case_when</span>(</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>          los <span class="sc">&lt;</span> <span class="dv">6</span> <span class="sc">~</span> <span class="st">"short"</span>,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>          (los <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">&amp;</span> los <span class="sc">&gt;=</span> <span class="dv">6</span>) <span class="sc">~</span> <span class="st">"medium"</span>,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>          los <span class="sc">&gt;=</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"long"</span>,</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>          <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nominal =</span> <span class="fu">factor</span>(nominal, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"short"</span>, <span class="st">"medium"</span>, <span class="st">"long"</span>)),)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(edstays<span class="sc">$</span>nominal)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 short medium   long 
   114     77     31 </code></pre>
</div>
</div>
<p>For multinomial regression, we define a categorical representation of length of stay based on the following three categories.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>edstays <span class="ot">&lt;-</span> edstays <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ordinal =</span> <span class="fu">factor</span>(nominal, <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>The complete code to obtain the analysis dataset for today’s AE is as follows.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>edstays <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"mimic_ed/edstays.csv"</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>edstays <span class="ot">&lt;-</span> edstays <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">race2 =</span> <span class="fu">case_when</span>(</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>      race <span class="sc">==</span> <span class="st">"BLACK/AFRICAN AMERICAN"</span> <span class="sc">~</span> <span class="st">"black"</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>      race <span class="sc">==</span> <span class="st">"WHITE - BRAZILIAN"</span> <span class="sc">~</span> <span class="st">"white"</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>      race <span class="sc">==</span> <span class="st">"WHITE - OTHER EUROPEAN"</span> <span class="sc">~</span> <span class="st">"white"</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>      race <span class="sc">==</span> <span class="st">"WHITE"</span> <span class="sc">~</span> <span class="st">"white"</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>      race <span class="sc">==</span> <span class="st">"UNKNOWN"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>      race <span class="sc">==</span> <span class="st">"UNABLE TO OBTAIN"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>      race <span class="sc">==</span> <span class="st">"PATIENT DECLINED TO ANSWER"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>      race <span class="sc">==</span> <span class="st">"OTHER"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>      race <span class="sc">==</span> <span class="st">"PORTUGUESE"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>      race <span class="sc">==</span> <span class="st">"MULTIPLE RACE/ETHNICITY"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>      race <span class="sc">==</span> <span class="st">"HISPANIC/LATINO - SALVADORAN"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>      race <span class="sc">==</span> <span class="st">"HISPANIC/LATINO - CUBAN"</span> <span class="sc">~</span> <span class="st">"other"</span>,</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span>),  <span class="co"># handles any other cases that don't match</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">los =</span> <span class="fu">as.numeric</span>(<span class="fu">difftime</span>(<span class="fu">as.POSIXct</span>(outtime), <span class="fu">as.POSIXct</span>(intime), <span class="at">units =</span> <span class="st">"hours"</span>)),</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">binary =</span> <span class="dv">1</span> <span class="sc">*</span> (los <span class="sc">&gt;</span> <span class="dv">6</span>),</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">nominal =</span> <span class="fu">case_when</span>(</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>      los <span class="sc">&lt;</span> <span class="dv">6</span> <span class="sc">~</span> <span class="st">"short"</span>,</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>      (los <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">&amp;</span> los <span class="sc">&gt;=</span> <span class="dv">6</span>) <span class="sc">~</span> <span class="st">"medium"</span>,</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>      los <span class="sc">&gt;=</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"long"</span>,</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA_character_</span>)</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race2 =</span> <span class="fu">relevel</span>(<span class="fu">factor</span>(race2), <span class="at">ref =</span> <span class="st">"white"</span>),</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">nominal =</span> <span class="fu">factor</span>(nominal, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"short"</span>, <span class="st">"medium"</span>, <span class="st">"long"</span>)),</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">ordinal =</span> <span class="fu">factor</span>(nominal, <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>dat_ae6 <span class="ot">&lt;-</span> edstays[, <span class="fu">c</span>(<span class="st">"binary"</span>, <span class="st">"nominal"</span>, <span class="st">"ordinal"</span>, <span class="st">"race2"</span>)]</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(dat_ae6)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 222
Columns: 4
$ binary  &lt;dbl&gt; 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1,…
$ nominal &lt;fct&gt; short, short, medium, short, short, short, short, short, short…
$ ordinal &lt;ord&gt; short, short, medium, short, short, short, short, short, short…
$ race2   &lt;fct&gt; white, white, white, white, white, other, other, other, white,…</code></pre>
</div>
</div>
</section>
<section id="exercises" class="level1">
<h1>Exercises</h1>
<section id="exercise-1" class="level2">
<h2 class="anchored" data-anchor-id="exercise-1">Exercise 1</h2>
<p>Fit the logistic regression model: <span class="math display">\[\begin{align*}
Y_i &amp;\stackrel{ind}{\sim} \text{Bernoulli}(\pi_i)\\
\text{logit}(\pi_i) &amp;= \alpha + \mathbf{x}_i\boldsymbol{\beta},
\end{align*}\]</span> where <span class="math inline">\(Y_i\)</span> is the binary indicator for a length of stay being greater than 6 hours and <span class="math inline">\(\mathbf{x}_i = (black_i, other_i)\)</span> contains the covariates for race, with white as the reference category. Place weakly-informative priors. Evaluate model convergence, check model fit with posterior predictive checks. Present the posterior mean and 95% credible interval for the odds ratio for black race.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add code here</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="exercise-2" class="level2">
<h2 class="anchored" data-anchor-id="exercise-2">Exercise 2</h2>
<p>Fit the additive log ratio regression model for <span class="math inline">\(Y_i \in \{1,\ldots,K\}\)</span> for <span class="math inline">\(i = 1,\ldots,n\)</span>, <span class="math display">\[\log \left(\frac{P(Y_i = k)}{P(Y_i = K)} \right)= \mathbf{x}_i \boldsymbol{\beta}_k, \quad k \in \{1,\ldots, K-1\},\]</span> where <span class="math inline">\(K\)</span> is chosen as reference. Place weakly-informative priors. Evaluate model convergence, check model fit with posterior predictive checks. Present the posterior mean and 95% credible interval for the odds ratio for black race.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add code here</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="exercise-3" class="level2">
<h2 class="anchored" data-anchor-id="exercise-3">Exercise 3</h2>
<p>Fit the proportional odds regression model for ordinal <span class="math inline">\(Y_i \in \{1,\ldots,K\}\)</span> for <span class="math inline">\(i = 1,\ldots,n\)</span>, <span class="math display">\[\log \frac{P(Y_i\leq k)}{P(Y_i &gt; k)} = \text{logit}P(Y_i\leq k) = \alpha_k - \mathbf{x}_i \boldsymbol{\beta}.\]</span> Place weakly-informative priors. Evaluate model convergence, check model fit with posterior predictive checks. Present the posterior mean and 95% credible interval for the odds ratio for black race.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add code here</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>To submit the AE:</p>
<ul>
<li>Render the document to produce the PDF with all of your work from today’s class.</li>
<li>Push all your work to your AE repo on GitHub. You’re done! 🎉</li>
</ul>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/biostat725-sp26\.netlify\.app");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2026, Samuel Berchuck</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/biostat725-sp26/website/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This site is built with <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>